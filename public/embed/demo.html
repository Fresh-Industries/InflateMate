<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InflateMate Embed Widgets Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .demo-section {
            margin-bottom: 40px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .demo-section h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #4f46e5;
            padding-bottom: 10px;
        }
        .widget-container {
            border: 2px dashed #e5e5e5;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
        }
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .controls label {
            display: block;
            margin: 10px 0 5px 0;
            font-weight: bold;
        }
        .controls input, .controls select {
            width: 100%;
            max-width: 300px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .controls button {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 10px 0 0;
        }
        .controls button:hover {
            background: #3730a3;
        }
        .code-example {
            background: #f8f8f8;
            border: 1px solid #e5e5e5;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }
        .code-example pre {
            margin: 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽˆ InflateMate Embed Widgets Demo</h1>
            <p>This page demonstrates how to embed InflateMate widgets into your website.</p>
            <p><strong>Note:</strong> Replace 'your-business-id' with your actual business ID in the examples below.</p>
        </div>

        <!-- Booking Widget Demo -->
        <div class="demo-section">
            <h2>ðŸ“… Booking Widget</h2>
            <p>Allow customers to book your services directly from your website.</p>
            
            <div class="controls">
                <label for="booking-business-id">Business ID:</label>
                <input type="text" id="booking-business-id" value="cmb5lnorg000bcvbcwbpxii0p" placeholder="Enter your business ID">
                
                <label for="booking-theme">Theme:</label>
                <select id="booking-theme">
                    <option value="modern">Modern</option>
                    <option value="playful">Playful</option>
                    <option value="retro">Retro</option>
                </select>
                
                <label for="booking-color">Primary Color (optional override):</label>
                <input type="text" id="booking-color" value="" placeholder="e.g. #FF6BB8 (leave empty for business default)">
                
                <button onclick="createBookingWidget()">Create Booking Widget</button>
                <button onclick="destroyWidget('booking-widget')">Destroy Widget</button>
            </div>

            <div id="booking-widget" class="widget-container">
                <p>Booking widget will appear here...</p>
            </div>

            <div class="code-example">
                <pre><code>&lt;script src="https://yourdomain.com/embed/sdk"&gt;&lt;/script&gt;
&lt;div id="booking-widget"&gt;&lt;/div&gt;
&lt;script&gt;
    InflateMateEmbed.create({
        businessId: 'your-business-id',
        type: 'booking',
        container: '#booking-widget',
        theme: 'modern',
        primaryColor: '#4f46e5'
    });
&lt;/script&gt;</code></pre>
            </div>
        </div>

        <!-- Inventory Widget Demo -->
        <div class="demo-section">
            <h2>ðŸ“¦ Inventory Widget</h2>
            <p>Display your available inventory items.</p>
            
            <div class="controls">
                <label for="inventory-business-id">Business ID:</label>
                <input type="text" id="inventory-business-id" value="cmb5lnorg000bcvbcwbpxii0p" placeholder="Enter your business ID">
                
                <label for="inventory-theme">Theme:</label>
                <select id="inventory-theme">
                    <option value="modern">Modern</option>
                    <option value="playful">Playful</option>
                    <option value="retro">Retro</option>
                </select>
                
                <label for="inventory-color">Primary Color (optional override):</label>
                <input type="text" id="inventory-color" value="" placeholder="e.g. #FF6BB8 (leave empty for business default)">
                
                <button onclick="createInventoryWidget()">Create Inventory Widget</button>
                <button onclick="destroyWidget('inventory-widget')">Destroy Widget</button>
            </div>

            <div id="inventory-widget" class="widget-container">
                <p>Inventory widget will appear here...</p>
            </div>

            <div class="code-example">
                <pre><code>&lt;script src="https://yourdomain.com/embed/sdk"&gt;&lt;/script&gt;
&lt;div id="inventory-widget"&gt;&lt;/div&gt;
&lt;script&gt;
    InflateMateEmbed.create({
        businessId: 'your-business-id',
        type: 'inventory',
        container: '#inventory-widget',
        theme: 'modern',
        primaryColor: '#06b6d4'
    });
&lt;/script&gt;</code></pre>
            </div>
        </div>

        <!-- Product Widget Demo -->
        <div class="demo-section">
            <h2>ðŸŽª Product Detail Widget</h2>
            <p>Show details for a specific product.</p>
            
            <div class="controls">
                <label for="product-business-id">Business ID:</label>
                <input type="text" id="product-business-id" value="cmb5lnorg000bcvbcwbpxii0p" placeholder="Enter your business ID">
                
                <label for="product-id">Product ID:</label>
                <input type="text" id="product-id" value="product-123" placeholder="Enter product ID">
                
                <label for="product-theme">Theme:</label>
                <select id="product-theme">
                    <option value="modern">Modern</option>
                    <option value="playful">Playful</option>
                    <option value="retro">Retro</option>
                </select>
                
                <label for="product-color">Primary Color (optional override):</label>
                <input type="text" id="product-color" value="" placeholder="e.g. #FF6BB8 (leave empty for business default)">
                
                <button onclick="createProductWidget()">Create Product Widget</button>
                <button onclick="destroyWidget('product-widget')">Destroy Widget</button>
            </div>

            <div id="product-widget" class="widget-container">
                <p>Product widget will appear here...</p>
            </div>

            <div class="code-example">
                <pre><code>&lt;script src="https://yourdomain.com/embed/sdk"&gt;&lt;/script&gt;
&lt;div id="product-widget"&gt;&lt;/div&gt;
&lt;script&gt;
    InflateMateEmbed.create({
        businessId: 'your-business-id',
        type: 'product',
        productId: 'product-123',
        container: '#product-widget',
        theme: 'modern',
        primaryColor: '#f97316'
    });
&lt;/script&gt;</code></pre>
            </div>
        </div>

        <!-- Sales Funnel Widget Demo -->
        <div class="demo-section">
            <h2>ðŸŽ¯ Sales Funnel Widget</h2>
            <p>Display your sales funnel popup.</p>
            
            <div class="controls">
                <label for="funnel-business-id">Business ID:</label>
                <input type="text" id="funnel-business-id" value="cmb5lnorg000bcvbcwbpxii0p" placeholder="Enter your business ID">
                
                <label for="funnel-id">Funnel ID:</label>
                <input type="text" id="funnel-id" value="funnel-456" placeholder="Enter funnel ID">
                
                <label for="funnel-theme">Theme:</label>
                <select id="funnel-theme">
                    <option value="modern">Modern</option>
                    <option value="playful">Playful</option>
                    <option value="retro">Retro</option>
                </select>
                
                <label for="funnel-color">Primary Color (optional override):</label>
                <input type="text" id="funnel-color" value="" placeholder="e.g. #FF6BB8 (leave empty for business default)">
                
                <button onclick="createFunnelWidget()">Create Funnel Widget</button>
                <button onclick="destroyWidget('funnel-widget')">Destroy Widget</button>
            </div>

            <div id="funnel-widget" class="widget-container">
                <p>Sales funnel widget will appear here...</p>
            </div>

            <div class="code-example">
                <pre><code>&lt;script src="https://yourdomain.com/embed/sdk"&gt;&lt;/script&gt;
&lt;div id="funnel-widget"&gt;&lt;/div&gt;
&lt;script&gt;
    InflateMateEmbed.create({
        businessId: 'your-business-id',
        type: 'sales-funnel',
        funnelId: 'funnel-456',
        container: '#funnel-widget',
        theme: 'modern',
        primaryColor: '#8b5cf6'
    });
&lt;/script&gt;</code></pre>
            </div>
        </div>

        <div id="status" class="status" style="display: none;"></div>
    </div>

    <!-- Load the InflateMate SDK -->
    <script src="/embed/sdk"></script>
    
    <script>
        // Store widget instances
        const widgets = {};
        
        // Helper function to validate hex colors
        function isValidHexColor(color) {
            return /^#([0-9A-F]{3}){1,2}$/i.test(color) && color !== '#000000';
        }
        
        function showStatus(message, type = 'info') {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
            statusEl.style.display = 'block';
            
            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 3000);
        }
        
        function destroyWidget(containerId) {
            if (widgets[containerId]) {
                widgets[containerId].destroy();
                delete widgets[containerId];
                document.getElementById(containerId).innerHTML = '<p>Widget destroyed. Click "Create" to recreate.</p>';
                showStatus('Widget destroyed successfully!', 'success');
            }
        }
        
        function createBookingWidget() {
            const businessId = document.getElementById('booking-business-id').value;
            const theme = document.getElementById('booking-theme').value;
            const primaryColor = document.getElementById('booking-color').value;
            
            if (!businessId) {
                showStatus('Please enter a valid business ID', 'error');
                return;
            }
            
            // Destroy existing widget
            destroyWidget('booking-widget');
            
            try {
                const config = {
                    businessId: businessId,
                    type: 'booking',
                    container: '#booking-widget',
                    theme: theme,
                    autoResize: true,
                    onLoad: function() {
                        showStatus('Booking widget loaded successfully!', 'success');
                    },
                    onError: function(error) {
                        showStatus(`Error loading booking widget: ${error}`, 'error');
                    },
                    onResize: function(height) {
                        console.log('Booking widget resized to:', height);
                    }
                };
                
                // Only add primaryColor if provided and is a valid hex color
                if (primaryColor && primaryColor.trim() && isValidHexColor(primaryColor.trim())) {
                    config.primaryColor = primaryColor.trim();
                }
                
                widgets['booking-widget'] = InflateMateEmbed.create(config);
            } catch (error) {
                showStatus(`Error creating booking widget: ${error.message}`, 'error');
            }
        }
        
        function createInventoryWidget() {
            const businessId = document.getElementById('inventory-business-id').value;
            const theme = document.getElementById('inventory-theme').value;
            const primaryColor = document.getElementById('inventory-color').value;
            
            if (!businessId) {
                showStatus('Please enter a valid business ID', 'error');
                return;
            }
            
            destroyWidget('inventory-widget');
            
            try {
                const config = {
                    businessId: businessId,
                    type: 'inventory',
                    container: '#inventory-widget',
                    theme: theme,
                    autoResize: true,
                    onLoad: function() {
                        showStatus('Inventory widget loaded successfully!', 'success');
                    },
                    onError: function(error) {
                        showStatus(`Error loading inventory widget: ${error}`, 'error');
                    }
                };
                
                // Only add primaryColor if provided and is a valid hex color
                if (primaryColor && primaryColor.trim() && isValidHexColor(primaryColor.trim())) {
                    config.primaryColor = primaryColor.trim();
                }
                
                widgets['inventory-widget'] = InflateMateEmbed.create(config);
            } catch (error) {
                showStatus(`Error creating inventory widget: ${error.message}`, 'error');
            }
        }
        
        function createProductWidget() {
            const businessId = document.getElementById('product-business-id').value;
            const productId = document.getElementById('product-id').value;
            const theme = document.getElementById('product-theme').value;
            const primaryColor = document.getElementById('product-color').value;
            
            if (!businessId) {
                showStatus('Please enter a valid business ID', 'error');
                return;
            }
            
            destroyWidget('product-widget');
            
            try {
                const config = {
                    businessId: businessId,
                    type: 'product',
                    productId: productId,
                    container: '#product-widget',
                    theme: theme,
                    autoResize: true,
                    onLoad: function() {
                        showStatus('Product widget loaded successfully!', 'success');
                    },
                    onError: function(error) {
                        showStatus(`Error loading product widget: ${error}`, 'error');
                    }
                };
                
                // Only add primaryColor if provided and is a valid hex color
                if (primaryColor && primaryColor.trim() && isValidHexColor(primaryColor.trim())) {
                    config.primaryColor = primaryColor.trim();
                }
                
                widgets['product-widget'] = InflateMateEmbed.create(config);
            } catch (error) {
                showStatus(`Error creating product widget: ${error.message}`, 'error');
            }
        }
        
        function createFunnelWidget() {
            const businessId = document.getElementById('funnel-business-id').value;
            const funnelId = document.getElementById('funnel-id').value;
            const theme = document.getElementById('funnel-theme').value;
            const primaryColor = document.getElementById('funnel-color').value;
            
            if (!businessId) {
                showStatus('Please enter a valid business ID', 'error');
                return;
            }
            
            destroyWidget('funnel-widget');
            
            try {
                const config = {
                    businessId: businessId,
                    type: 'sales-funnel',
                    funnelId: funnelId,
                    container: '#funnel-widget',
                    theme: theme,
                    autoResize: true,
                    onLoad: function() {
                        showStatus('Sales funnel widget loaded successfully!', 'success');
                    },
                    onError: function(error) {
                        showStatus(`Error loading sales funnel widget: ${error}`, 'error');
                    }
                };
                
                // Only add primaryColor if provided and is a valid hex color
                if (primaryColor && primaryColor.trim() && isValidHexColor(primaryColor.trim())) {
                    config.primaryColor = primaryColor.trim();
                }
                
                widgets['funnel-widget'] = InflateMateEmbed.create(config);
            } catch (error) {
                showStatus(`Error creating sales funnel widget: ${error.message}`, 'error');
            }
        }
    </script>
</body>
</html> 